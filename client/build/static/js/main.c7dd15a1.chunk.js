(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{144:function(e,t){},147:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(68),i=a.n(r),c=(a(81),a(13)),o=a(14),s=a(16),m=a(15),u=a(17),h=a(153),d=a(156),p=a(154),E=a(152),b=a(151),g=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).create=function(t){t.preventDefault(),fetch("/tables/create",{method:"post"}).then(function(e){return e.json()}).then(function(t){e.setState({tableid:t.tableid}),console.log(e.state)})},e.state={endpoint:"http://127.0.0.1:3001",tableid:null},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return null!=this.state.tableid?l.a.createElement(E.a,{to:"/".concat(this.state.tableid)}):l.a.createElement("div",{className:"container"},l.a.createElement("div",null,l.a.createElement("h1",{className:"logo"},"Happy Tables!")),l.a.createElement("div",null,l.a.createElement("p",{className:"homeinfo"},l.a.createElement("b",null,"You and your friends")," can finally agree on where to eat with Happy Tables! We tell you where to eat, taking into account"," ",l.a.createElement("i",null,"all")," of your",l.a.createElement("b",null," individual preferences.")," We know how hard decision making is, so let our algorithm do it ",l.a.createElement("i",null,"for you!"))),l.a.createElement("div",{className:"maketablebutton"},l.a.createElement(b.a,{onClick:this.create,bsStyle:"primary",bsSize:"large",block:!0},"Make a Table!")))}}]),t}(n.Component),f=a(42),v=a.n(f),y=a(148),k=a(155),w=a(149),C=a(150),S=a(73),j=a.n(S),O=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"FilterList",style:{margin:"0 auto 10px",textAlign:"center"}},l.a.createElement(j.a,{trigger:"Filters v",open:!0},l.a.createElement("ul",null,this.props.filters.map(function(e,t){return l.a.createElement("p",{key:t},l.a.createElement("b",null,e[0]),": Category: ",l.a.createElement("i",null,e[1])," | Location:",l.a.createElement("i",null,e[2])," | Price: ",l.a.createElement("i",null,e[3]))}))))}}]),t}(n.Component),N=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).initializeStateFromLocalStorage=function(){if(localStorage.hasOwnProperty(e.props.match.params.id)){var t=localStorage.getItem(e.props.match.params.id),a=JSON.parse(t);console.log("didMount didsubmit: "+a),a&&e.setState({didsubmit:!0})}},e.handleSubmit=function(t){t.preventDefault(),v()(e.state.endpoint).emit("new filters",e.state.nickname,e.state.category,e.state.location,e.state.price,e.props.match.params.id),e.setState({didsubmit:!0},function(){var t=e.state.didsubmit;localStorage.setItem(e.props.match.params.id,JSON.stringify(t))})},e.handleChange=function(t){var a={};a[t.target.name]=t.target.value,e.setState(a)},e.state={endpoint:"http://127.0.0.1:3001",nickname:"",category:"",location:"",price:2,didsubmit:!1,restaurant:"",filters:[]},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=v()(this.state.endpoint);t.emit("new user",this.props.match.params.id),t.on("current restaurant name",function(t,a){e.setState({restaurant:t,filters:a}),console.log(a)}),t.on("new restaurant",function(t,a){a===e.props.match.params.id&&e.setState({restaurant:t})}),t.on("new filters",function(t){e.setState({filters:t}),console.log(t)}),this.initializeStateFromLocalStorage()}},{key:"render",value:function(){return console.log(this.props),!0===this.state.didsubmit?l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h2",null,"Hi Table #",this.props.match.params.id,", what would you like to eat?")),l.a.createElement("div",null,l.a.createElement("h2",null,"You should eat at ",l.a.createElement("b",null,this.state.restaurant,"!"))),l.a.createElement("div",{className:"FilterList"},l.a.createElement(O,{filters:this.state.filters}))):this.state.restaurant.length>0?l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h2",null,"Hi Table #",this.props.match.params.id,", what would you like to eat?")),l.a.createElement("div",{className:"container"},l.a.createElement(y.a,{className:"jumbotron"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(k.a,null,l.a.createElement(w.a,null,"Nickname:"),l.a.createElement(C.a,{type:"text",name:"nickname",value:this.state.nickname,onChange:this.handleChange}),l.a.createElement(w.a,null,"Category:"),l.a.createElement(C.a,{type:"text",name:"category",value:this.state.category,onChange:this.handleChange}),l.a.createElement(w.a,null,"Location:"),l.a.createElement(C.a,{type:"text",name:"location",value:this.state.location,onChange:this.handleChange}),l.a.createElement(w.a,null,"Price:"),l.a.createElement(C.a,{type:"text",name:"price",value:this.state.price,onChange:this.handleChange}),l.a.createElement(b.a,{type:"submit"},"Submit"))))),l.a.createElement("div",null,l.a.createElement("h2",null,"You should eat at ",l.a.createElement("b",null,this.state.restaurant,"!"))),l.a.createElement("div",{className:"FilterList"},l.a.createElement(O,{filters:this.state.filters}))):l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h2",null,"Hi Table #",this.props.match.params.id,", what would you like to eat?")),l.a.createElement("div",{className:"container"},l.a.createElement(y.a,{className:"jumbotron"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(k.a,null,l.a.createElement(w.a,null,"Nickname:"),l.a.createElement(C.a,{type:"text",name:"nickname",value:this.state.nickname,onChange:this.handleChange}),l.a.createElement(w.a,null,"Category:"),l.a.createElement(C.a,{type:"text",name:"category",value:this.state.category,onChange:this.handleChange}),l.a.createElement(w.a,null,"Location:"),l.a.createElement(C.a,{type:"text",name:"location",value:this.state.location,onChange:this.handleChange}),l.a.createElement(w.a,null,"Price:"),l.a.createElement(C.a,{type:"text",name:"price",value:this.state.price,onChange:this.handleChange}),l.a.createElement(b.a,{type:"submit"},"Submit"))))))}}]),t}(n.Component),x=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).state={tableid:null},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(h.a,null,l.a.createElement(d.a,null,l.a.createElement(p.a,{path:"/",exact:!0,component:g}),l.a.createElement(p.a,{path:"/:id",component:N})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},76:function(e,t,a){e.exports=a(147)},81:function(e,t,a){}},[[76,2,1]]]);
//# sourceMappingURL=main.c7dd15a1.chunk.js.map